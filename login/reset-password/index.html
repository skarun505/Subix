<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reset Password — Subix Accounts</title>
    <meta name="description" content="Reset your Subix account password." />
    <meta name="robots" content="noindex, nofollow" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&display=swap"
        rel="stylesheet" />

    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,%3Csvg width='512' height='512' viewBox='0 0 512 512' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='512' height='512' rx='100' fill='%23000000'/%3E%3Crect x='106' y='106' width='300' height='300' rx='30' stroke='%23CCFF00' stroke-width='40'/%3E%3Cpath d='M156 156L356 356' stroke='%23CCFF00' stroke-width='40' stroke-linecap='round'/%3E%3Ccircle cx='356' cy='156' r='30' fill='%239D4EDD'/%3E%3C/svg%3E" />

    <link rel="stylesheet" href="/login/style.css" />
    <style>
        .success-icon {
            background: rgba(204, 255, 0, 0.1);
            width: 64px;
            height: 64px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem auto;
        }
    </style>
</head>

<body>

    <!-- Background glows -->
    <div class="bg-glow glow-purple" aria-hidden="true"></div>
    <div class="bg-glow glow-cyan" aria-hidden="true"></div>

    <!-- Noise overlay -->
    <div class="noise-overlay" aria-hidden="true"></div>

    <!-- ── SUCCESS SCREEN (hidden by default) ─────────── -->
    <div class="verify-screen" id="success-screen" aria-hidden="true" role="status" style="display: none;">
        <div class="verify-card" style="text-align: center;">
            <div class="success-icon" aria-hidden="true">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#ccff00" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                </svg>
            </div>
            <h1 class="verify-title" style="margin-bottom: 1rem;">Password Reset!</h1>
            <p class="verify-body" style="margin-bottom: 2rem; color: var(--text-muted);">
                Your password has been changed successfully. You can now login with your new password.
            </p>
            <a href="/login" class="btn btn-primary" style="width: 100%;">Return to Sign In</a>
        </div>
    </div>

    <main class="auth-wrapper" id="reset-main">

        <!-- ── Brand mark ─────────────────────────────────── -->
        <header class="brand" aria-label="Subix">
            <a href="https://subix.in" class="logo-link" aria-label="Go to Subix homepage">
                <svg class="logo-icon" width="36" height="36" viewBox="0 0 512 512" fill="none"
                    xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <rect width="512" height="512" rx="100" fill="#000000" />
                    <rect x="106" y="106" width="300" height="300" rx="30" stroke="#CCFF00" stroke-width="40" />
                    <path d="M156 156L356 356" stroke="#CCFF00" stroke-width="40" stroke-linecap="round" />
                    <circle cx="356" cy="156" r="30" fill="#9D4EDD" />
                </svg>
                <span class="logo-wordmark">Subix</span>
            </a>
        </header>

        <!-- ── Reset Password Card ──────────────────────────────────── -->
        <div class="auth-card" id="auth-card" role="main">

            <!-- Toast / Error Banner -->
            <div class="toast" id="error-toast" role="alert" aria-live="assertive" aria-hidden="true">
                <span class="toast-icon">⚠</span>
                <span class="toast-msg" id="toast-msg"></span>
            </div>
            <div class="toast toast-success" id="success-toast" role="status" aria-live="polite" aria-hidden="true">
                <span class="toast-icon">✓</span>
                <span class="toast-msg" id="success-message"></span>
            </div>

            <div class="card-inner">
                <!-- Heading -->
                <div class="card-head">
                    <h1 class="card-title">Reset Password</h1>
                    <p class="card-subtitle">Please enter your new password below.</p>
                </div>

                <!-- Form -->
                <form id="reset-form" class="login-form" novalidate>
                    <div id="password-group" class="form-group">
                        <label for="password-input" class="form-label">New Password</label>
                        <div class="input-wrap">
                            <svg class="input-icon" width="16" height="16" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                aria-hidden="true">
                                <rect x="3" y="11" width="18" height="11" rx="2" ry="2" />
                                <path d="M7 11V7a5 5 0 0 1 10 0v4" />
                            </svg>
                            <input type="password" id="password-input" name="password" class="form-input"
                                placeholder="••••••••" required minlength="6" />
                            <button type="button" class="eye-toggle" id="eye-toggle"
                                aria-label="Toggle password visibility">
                                <svg id="eye-icon" width="16" height="16" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" aria-hidden="true">
                                    <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z" />
                                    <circle cx="12" cy="12" r="3" />
                                </svg>
                            </button>
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary" id="reset-btn">
                        <span class="btn-text" id="reset-btn-text">Update Password</span>
                        <span class="btn-loader" id="reset-loader" aria-hidden="true"></span>
                    </button>
                </form>
            </div>
        </div>

        <!-- Footer trust line -->
        <footer class="auth-footer">
            <p>
                By resetting, you agree to Subix's
                <a href="https://subix.in/terms" target="_blank" rel="noopener">Terms</a>
                and
                <a href="https://subix.in/privacy" target="_blank" rel="noopener">Privacy Policy</a>.
            </p>
        </footer>

    </main>

    <script src="reset.js"></script>
</body>

</html>